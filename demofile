This is logic B related code

finished logic B related code
